<form id="eventForm">
  <input type="text" id="title" placeholder="Title (required)">
  <input type="date" id="date" required>
  <input type="time" id="time">
  <input type="text" id="place" placeholder="Place">
  <textarea id="description" placeholder="Description"></textarea>
  <input type="text" id="fee" placeholder="Fee">
  <input type="url" id="link" placeholder="Link">
  <button type="submit">Submit Event</button>
</form>

<script>
const form = document.getElementById('eventForm');
form.addEventListener('submit', async e => {
  e.preventDefault();
  
  const data = {
    title: document.getElementById('title').value,
    date: document.getElementById('date').value,
    time: document.getElementById('time').value,
    place: document.getElementById('place').value,
    description: document.getElementById('description').value,
    fee: document.getElementById('fee').value,
    link: document.getElementById('link').value
  };

  const res = await fetch('/.netlify/functions/submit-event', {
    method: 'POST',
    body: JSON.stringify(data)
  });

  if(res.ok) {
    alert('Event submitted!');
    form.reset();
  } else {
    alert('Error submitting event.');
  }
});
</script>
